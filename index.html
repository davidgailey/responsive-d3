<!DOCTYPE html>
<html>
<head>
	<title>Responsive D3.js</title>
	<script src="https://d3js.org/d3.v4.js"></script>

	<style type="text/css">
		rect:hover{
			fill:yellow;
		}
	</style>

</head>
<body>

	
	<script type="text/javascript">

		var barChart = {
			w: 300,
			h: 150,
			svg: "",
			padding: 4,
			dataset: [5,4,10,14,20,25,11,24,22,18,22,9,2,3,1],
			createSVG: function(){
				// create svg via d3 and set width and height
				this.svg = d3.select("body").append("svg")
					.attr("height", barChart.h)
					.attr("width", barChart.w);

				// return this object for chainability
				return this;
			},
			renderData: function(data){
				var closure = this;

				// use internal dataset if data parameter is not defined
				if(typeof data === "undefined"){data = this.dataset;}

				// create rect placeholders and loop through data
				closure.svg.selectAll("rect")
				.data(data)
				.enter()

				// append rects and set position, fill, etc
				.append("rect")
					.attr("x",function(d,i){return i*(closure.w/data.length)})
					.attr("y", function(d){return closure.h-(d*4);})
					.attr("width", closure.w / data.length - closure.padding)
					.attr("height", function(d){return d*4;})
					.attr("fill", function(d){
							if(d > 10){
								return "red";
							}else if (d < 10){
								return "teal";
							}
						}
					);

				// return this object for chainability
				return this;
			}
		};

		// render a bar chart with it's own dataset
		barChart.createSVG().renderData();

		// render a bar chart with custom dataset
		barChart.createSVG().renderData([4,13,19,16,22,8]);
		

			


	</script>
</body>
</html>